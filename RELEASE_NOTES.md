# GitHubSentinel Release Notes

## 🚀 v0.2.0 - Enhanced Dashboard and Email Notifications
**发布日期**: 2024-12-XX

### 🎯 主要功能更新

#### 🕒 时间本地化支持
- **前端时间统一**: 所有时间显示统一使用北京时间（UTC+8）
- **时间工具函数**: 创建 `frontend/src/utils/time.js` 统一处理时间格式化
- **相对时间显示**: 支持 "2h ago", "3d ago" 等人性化时间显示
- **数据库时间优化**: 所有模型的时间字段默认使用北京时间

#### 📊 Dashboard 智能筛选
- **时间周期筛选**: 支持1天、3天、7天、30天、全部时间的筛选
- **Recent Activity 增强**: 
  - 按仓库筛选活动
  - 按活动类型筛选（Issues、PRs、Commits、Releases）
  - 默认显示第一个仓库的Issues
  - 最多显示5个活动，支持"View More"查看更多
- **响应式筛选**: 筛选条件变更时自动重新加载数据

#### 📈 Performance Metrics 完善
- **系统性能监控**: 完整实现 `/dashboard/performance-metrics` 接口
- **多维度指标**: 
  - 响应时间统计
  - 报告生成成功率
  - 活动量统计
  - 活跃仓库数量
  - 系统健康评分
- **时间周期支持**: 支持7天、30天、90天的性能数据查询

#### 📧 邮件通知样式升级
- **模板样式统一**: 邮件通知模板与HTML报告生成器样式完全一致
- **现代化设计**: 
  - 渐变色头部背景
  - 卡片式统计数据展示
  - 统一的活动项样式
  - 响应式网格布局
- **增强的内容**: 
  - 更多统计指标（Issues数量）
  - Emoji图标增强视觉效果
  - 改进的活动描述和元数据显示

#### 🔍 Activities 页面优化
- **高级筛选**: 支持按仓库、活动类型、时间周期多维度筛选
- **搜索功能**: 支持按标题、描述、仓库名搜索
- **分页浏览**: 每页20条记录，支持翻页浏览
- **时间筛选联动**: 筛选条件变更时自动重新加载数据

### 🔧 技术改进

#### 后端优化
- **查询逻辑优化**: 使用 `github_created_at` 而非 `created_at` 进行时间筛选
- **API参数支持**: 所有时间相关接口支持 `days` 参数
- **数据库模型**: 时间字段默认值使用 `beijing_now()` 函数
- **性能提升**: 优化SQL查询，减少N+1查询问题

#### 前端优化
- **组件化设计**: 时间处理逻辑统一封装
- **响应式筛选**: 使用Vue 3 Composition API实现响应式筛选
- **状态管理**: 筛选状态与URL参数同步
- **用户体验**: 筛选变更时自动重置分页

#### 代码质量
- **错误处理**: 完善的错误处理和用户提示
- **日志记录**: 详细的调试日志便于问题排查
- **类型安全**: 完善的TypeScript类型定义
- **代码规范**: 统一的代码格式和命名规范

### 🐛 Bug修复

#### 前端修复
- **图标导入错误**: 修复 Activities.vue 中 ExternalLink 图标导入问题
- **路由跳转**: 修复 "View All" 和 "View More" 按钮的路由跳转
- **时间显示**: 修复时间格式不一致的问题
- **筛选重置**: 修复筛选条件变更时分页不重置的问题

#### 后端修复
- **数据查询**: 修复 repository_activities 数据查询不出来的问题
- **时间筛选**: 修复基于错误时间字段筛选导致的数据缺失
- **关联查询**: 修复数据库关联查询的性能问题
- **异常处理**: 完善API异常处理和错误响应

### 📊 数据展示优化

#### Dashboard 面板
- **统计卡片**: 更准确的数据统计和实时更新
- **活动列表**: 改进的活动展示格式和交互
- **筛选器**: 直观的筛选器界面和状态指示
- **加载状态**: 优化的加载状态和错误提示

#### Activities 页面
- **列表展示**: 清晰的活动列表布局和信息层次
- **筛选面板**: 便捷的多维度筛选操作
- **分页控件**: 完善的分页导航和页面信息
- **空状态**: 友好的空数据状态提示

### 🔄 API 变更

#### 新增接口
- `GET /dashboard/performance-metrics?period={7d|30d|90d}` - 获取性能指标

#### 接口增强
- `GET /dashboard/recent-activity?days={number}` - 支持时间周期筛选
- 所有时间相关接口统一支持时间周期参数

#### 响应格式优化
- 统一的时间格式（ISO 8601 + 北京时间）
- 完善的错误响应格式
- 增强的数据字段和元数据

### 📱 用户体验提升

#### 界面交互
- **响应式设计**: 更好的移动端和桌面端适配
- **加载反馈**: 清晰的加载状态和进度指示
- **错误提示**: 友好的错误信息和操作建议
- **操作反馈**: 及时的操作成功/失败反馈

#### 性能优化
- **数据缓存**: 智能的数据缓存和更新策略
- **懒加载**: 按需加载数据和组件
- **防抖处理**: 搜索和筛选操作的防抖优化
- **内存管理**: 优化的组件生命周期和内存使用

### 🔧 开发体验

#### 调试支持
- **详细日志**: 完善的前后端调试日志
- **错误追踪**: 清晰的错误堆栈和上下文信息
- **开发工具**: 改进的开发环境配置
- **热重载**: 更快的开发时热重载

#### 代码维护
- **模块化**: 更好的代码组织和模块划分
- **文档完善**: 详细的代码注释和API文档
- **测试覆盖**: 增加的单元测试和集成测试
- **类型安全**: 完善的类型定义和检查

### 📋 已知问题

- 大量数据时的性能优化仍需改进
- 部分边缘情况的错误处理待完善
- 移动端某些交互细节需要优化

### 🔮 下一版本预告

v0.3.0 计划功能：
- 🤖 AI智能分析和摘要生成
- 📊 更丰富的数据可视化图表
- 🔔 实时通知和WebSocket支持
- 🎨 主题定制和个性化设置
- 📱 PWA支持和离线功能

---

## 📋 历史版本

### v0.1.0 - Initial Release
**发布日期**: 2024-11-XX

#### 🎉 首次发布功能
- **基础架构**: FastAPI + Vue 3 + PostgreSQL 技术栈
- **仓库监控**: GitHub仓库订阅和基础监控
- **Dashboard**: 基础的数据展示面板
- **报告系统**: HTML/Markdown格式报告生成
- **邮件通知**: 基础的邮件通知功能
- **API接口**: RESTful API和Swagger文档

#### 🏗️ 核心模块
- 用户和订阅管理系统
- 数据采集和存储
- 报告生成和管理
- 通知系统框架
- 前端界面基础框架

---

## 🤝 贡献者

感谢所有为 v0.2.0 版本做出贡献的开发者！

## 📞 支持

如有问题或建议，请：
- 提交 [GitHub Issues](https://github.com/your-username/GitHubSentinel/issues)
- 参与 [GitHub Discussions](https://github.com/your-username/GitHubSentinel/discussions)
- 发送邮件至: your-email@example.com 